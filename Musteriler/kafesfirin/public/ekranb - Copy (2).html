<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head>
<link rel="stylesheet" href="../css/ekranb.css">
 <script src="../script/jquery-1.11.1.min.js" type="text/javascript"></script>
 <script type="text/javascript" src="../script/logger.js"></script>
</head>
<body>
<div id="content">
 <div id="left">
  <div class="row clearfix">
  			<div id="text" >
				<table style="table-layout:fixed;">
					<tr>
						<td class="header">	SICAK SPESİYALLER</td>
						<td id="header_image">	</td>
					</tr>
				</table>
				
				<ul>
					<li class="itemheader">küçük</li>
					<li class="itemheader" style="left: 360px;">büyük</li>
				</ul> 

				<div style="width:100%;height:100%">
						
					<ul class="menuitem">
						<li class="drink">Espresso</li>
						<li class="item small">6.<span class="smalltext">00</span>&nbsp ₺</li>
						<li class="item large">-<span class="smalltext"></span>	</li>
					</ul > 

					<ul class="menuitem">
						<li class="drink">Macchiato</li>
						<li class="item small">6.<span class="smalltext">00</span>&nbsp ₺</li>
						<li class="item large">-<span class="smalltext"></span>	</li>
					</ul> 

					<ul class="menuitem">
						<li class="drink">Americano</li>
						<li class="item small">7.<span class="smalltext">00</span>&nbsp ₺</li>
						<li class="item large">8.<span class="smalltext">00</span>&nbsp ₺</li>
					</ul> 

					<ul class="menuitem">
						<li class="drink">Cappuccino</li>
						<li class="item small">7.<span class="smalltext">00</span>&nbsp ₺</li>
						<li class="item large">8.<span class="smalltext">00</span>&nbsp ₺</li>
					</ul> 

					<ul class="menuitem">
						<li class="drink">Filtre Kahve</li>
						<li class="item small">5.<span class="smalltext">00</span>&nbsp ₺</li>
						<li class="item large">6.<span class="smalltext">00</span>&nbsp ₺</li>
					</ul> 

					<ul class="menuitem">
						<li class="drink">Latte</li>
						<li class="item small">7.<span class="smalltext">00</span>&nbsp ₺</li>
						<li class="item large">8.<span class="smalltext">00</span>&nbsp ₺</li>
					</ul> 

					<ul class="menuitem">
						<li class="drink">Caramel Latte</li>
						<li class="item small">8.<span class="smalltext">00</span>&nbsp ₺</li>
						<li class="item large">9.<span class="smalltext">00</span>&nbsp ₺</li>
					</ul> 

					<ul class="menuitem">
						<li class="drink">Black Mocha</li>
						<li class="item small">7.<span class="smalltext">50</span>&nbsp ₺</li>
						<li class="item large">8.<span class="smalltext">50</span>&nbsp ₺</li>
					</ul> 

					<ul class="menuitem">
						<li class="drink">White Mocha</li>
						<li class="item small">7.<span class="smalltext">50</span>&nbsp ₺</li>
						<li class="item large">8.<span class="smalltext">50</span>&nbsp ₺</li>
					</ul> 

					<ul class="menuitem">
						<li class="drink">Caramel Macchiato</li>
						<li class="item small">7.<span class="smalltext">50</span>&nbsp ₺</li>
						<li class="item large">8.<span class="smalltext">50</span>&nbsp ₺</li>
					</ul> 
					<ul class="menuitem">
						<li class="drink">Hot Chocolate</li>
						<li class="item small">6.<span class="smalltext">00</span>&nbsp ₺</li>
						<li class="item large">7.<span class="smalltext">00</span>&nbsp ₺</li>
					</ul> 

					<ul class="menuitem">
						<li class="drink">Geleneksel Sahlep</li>
						<li class="item small">5.<span class="smalltext">00</span>&nbsp ₺</li>
						<li class="item large">6.<span class="smalltext">00</span>&nbsp ₺</li>
					</ul> 

					<ul class="menuitem">
						<li class="drink">Süt</li>
						<li class="item small">3.<span class="smalltext">00</span>&nbsp ₺</li>
						<li class="item large">4.<span class="smalltext">00</span>&nbsp ₺</li>
					</ul> 
 				 
			 </div>
		 
		 	
		</div>
		</div>
 </div>
 <div id="right">
  <img class="right-image active" src="../media/1_ekran_1_gorsel.jpg" />
  <img class="right-image" src="../media/1_ekran_2_gorsel.jpg" />
  <img class="right-image" src="../media/1_ekran_3_gorsel.jpg" />
  <img class="right-image" src="../media/1_ekran_4_gorsel.jpg" />
  <img class="right-image" src="../media/1_ekran_5_gorsel.jpg" />
  <img class="right-image" src="../media/1_ekran_6_gorsel.jpg" />
  <video id="video" class="right-image">
      <source src="../media/yeni_yil_2016.webm" type="video/webm">
      Your browser does not support the video tag.
  </video>
 </div>
</div>
<script>
var intervalId = 0;
var pictureInterval = 60000;

function swapImages(){
  var $active = $('#right .active');
  var $next = ($('#right .active').next().length > 0) ? $('#right .active').next() : $('#right img:first');
  $active.fadeOut(function(){
    $active.removeClass('active');
    $next.fadeIn().addClass('active');
	var logger = new Logger();
	//if video is visible then start video; if not stop video.
	$('video').each(function(){
		if ($(this).is(".active")) {
			if(intervalId != 0)
			{
				console.log("clearing interval running video. interval id="+intervalId);
				console.log("videoDuration(ms) = "+videoDuration);
				clearInterval(intervalId);
				intervalId = 0;
			}
			
			var videoDuration = $(this).get(0).duration * 1000;
			$(this).get(0).pause();
			$(this).get(0).currentTime = 0;
			$(this).get(0).load();
			$(this).get(0).play();
			logger.log("Playing video at screen 2: "+$next.attr("src"),$next.attr("src"));
			setTimeout(function(){
				swapImages();
			}, videoDuration);
		} else {
			$(this).get(0).pause();
			if(intervalId == 0)
			{
				intervalId = setInterval(
				function(){
					swapImages();
				}, pictureInterval);
				console.log("Video stopped. new interval id="+intervalId);
			}
		}
	});
	
	logger.log("Picture at screen 2: "+$next.attr("src"),$next.attr("src"));
  });
}

setTimeout(function(){
	intervalId = setInterval(
	function(){
		swapImages();
	}, pictureInterval);
	console.log("Creating new interval. interval id="+intervalId);
},20000);
</script>
</body>
</html>
